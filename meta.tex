\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[10pt]{book}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{makeidx}
\usepackage{fixmath}
\usepackage{multicol}
\usepackage{answers}
\usepackage{icomma}
\usepackage[pages=some]{background}
\usepackage{siunitx}
\usepackage{graphicx}
\usepackage{numprint}
\usepackage{tikz}
%\usepackage{tkz-euclide}
\usepackage[finnish]{babel}
 \usepackage{mathpazo}
\usepackage{fouriernc}
\usepackage{microtype}

\author{Joonas M채kinen}
\title{Equivalent Expressions} %titlekortti

\Newassociation{vastaus}{Vastaus}{ans}

\newcounter{expressions}
\setcounter{expressions}{0}
\newcounter{cards} %mahdollisuus laittaa kolme varianttia lausekkeelle?
\setcounter{cards}{0}

\newcommand\expression[2]{

	\stepcounter{expressions}
	\stepcounter{cards}

	\vspace*{\fill}
	\huge{\begin{center}$#2$\end{center}}
	\vspace*{\fill}

		\tiny{#1\arabic{expressions}} \hfill	\logo \\
	\clearpage
}

\newcommand\expressiong[3][1]{

	\stepcounter{expressions}
	\stepcounter{cards}

	\vspace*{\fill}
	\huge{\begin{center}
	\begin{tikzpicture}[smooth, scale=0.5]
    \draw[very thin,color=gray] (-#3,-#3) grid (#3,#3);
    \draw[->] (-4.2,0) -- (4.2,0) node[right] {\small{$x$}};
    \draw[->] (0,-4.2) -- (0,4.2) node[above] {\small{$y$}};
	\clip (-#3,-#3) rectangle (#3,#3);
    \draw[color=red] plot[id=x] function{#2} node[right] {};
	\end{tikzpicture}
	\end{center}}
	\vspace*{\fill}

		\tiny{#1\arabic{expressions}} \hfill	\logo \\
	\clearpage
}

\newcommand\background{
		
		\BgThispage
		\tiny{
	\vspace*{\fill}
	 \hfill Joonas ''JoonasD6'' M채kinen \\

	 \hfill Creative Commons-BY 4.0\\}
	\clearpage
}

\newcommand\card[2]{

\stepcounter{class#1}
\expression{#1}{#2}
%\background	
}

\newcommand\cardg[3]{

\stepcounter{class#1}
\expressiong{#1}{#2}{#3}
%\background
}


%minne \begin{solution} \end{solution}
	
\newenvironment{cards}[1]{

\newcounter{class#1}
\setcounter{class#1}{0}
		
		\newcommand\pair[2]{
			\card{#1}{##1}
			\card{#1}{##2} %ent채 kaksipuolisten korttien versio?
			}
		\newcommand\pairg[3][1]{
			\card{#1}{##1}
			\cardg{#1}{##2}{##3} %ent채 kaksipuolisten korttien versio?
			}
		}{
\setcounter{expressions}{0}
}