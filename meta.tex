\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[10pt]{book}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{makeidx}
\usepackage{fixmath}
\usepackage{multicol}
\usepackage{answers}
\usepackage{forloop}
\usepackage{systeme}
\usepackage{icomma}
\usepackage{ifthen}
\usepackage[pages=some]{background}
\usepackage{siunitx}
\usepackage{graphicx}
%\usepackage{numprint}
\usepackage{tikz}
\usepackage{upgreek}
\usepackage[finnish]{babel}
 \usepackage{mathpazo}
\usepackage{fouriernc}
\usepackage{microtype}

\author{Joonas Mäkinen}
\title{Equivalent Expressions} %titlekortti

\renewcommand{\d}{\mathrm{d}}

\Newassociation{vastaus}{Vastaus}{ans}

\newcommand\background{		
		\BgThispage
		\tiny{
	\vspace*{\fill}
	 \hfill Joonas ''JoonasD6'' Mäkinen \\

	 \hfill Creative Commons-BY 4.0\\}
	\clearpage
}

\newcounter{expressions}
\setcounter{expressions}{0}
\newcounter{cards}
\setcounter{cards}{0}

%footer/counter-def?

\newcommand\expression[2]{

	\stepcounter{expressions}
	\vspace*{\fill}
	\huge{\begin{center}#2\end{center}}
	\vspace*{\fill}

		\tiny{#1.\arabic{expressions}} \hfill	\logo \\
	\clearpage
%		\background	
}

\newcommand\expressiong[2]{ %kolmas argumentti koordinaatiston skaalaukseen? %handling of asymptotes?

	\stepcounter{expressions}
%	\vspace*{\fill}
	\huge{\begin{center}
	\begin{tikzpicture}[smooth, scale=0.45, samples=100]
    \draw[very thin,color=gray] (-5,-5) grid (5,5);
    \draw[->] (-5.2,0) -- (5.2,0) node[right] {\small{$x$}};
    \draw[->] (0,-5.2) -- (0,5.2) node[above] {\small{$y$}};
	\clip (-5,-5) rectangle (5,5);
    \draw[color=red] plot[id=x] function{#2};
    \draw[color=red] plot[id=x] function{#2};
	\end{tikzpicture}
	\end{center}}
	\vspace*{\fill}

		\tiny{#1.\arabic{expressions}} \hfill	\logo \\
	\clearpage
	%		\background	
}



%minne \begin{solution} \end{solution}
	
\newenvironment{cards}[1]{
		\newcounter{series#1}
		\setcounter{series#1}{0}

		\newcommand\card[1]{ %define outside class?
		\expression{#1}{##1}
		\stepcounter{series#1}}

		\newcommand\pair[2]{ %define outside class?
		\expression{#1}{##1}
		\expression{#1}{##2}  
		\addtocounter{series#1}{2}}

		\newcommand\pairg[2]{ %define outside class?
		\expression{#1}{##1}
		\expressiong{#1}{##2}  
		\addtocounter{series#1}{2}}
		
		\newcommand\triple[3]{ %define outside class?
		\expression{#1}{##1}
		\expression{#1}{##2}
		\expression{#1}{##3}
		\addtocounter{series#1}{3}}	

	}{
	\addtocounter{cards}{\arabic{expressions}}
	\setcounter{expressions}{0}
}